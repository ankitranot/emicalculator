<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan (EMI) Calculator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: "Poppins", sans-serif;
            background: #f2f7f3;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            flex-direction: column;
        }

        /* --- HEADER & NAVIGATION STYLES --- */
        .top-header-bar {
            width: 100%;
            height: 60px; 
            background-color: transparent; 
            display: flex;
            justify-content: space-between; /* Push logo left, nav right */
            align-items: center;
            padding: 0 20px;
            box-sizing: border-box;
            z-index: 1000;
            margin-bottom: 20px; 
        }

        .logo-text {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
            color: #0b3d1c; 
            text-decoration: none;
        }

        .top-nav {
            display: flex;
            gap: 20px; 
        }

        .top-nav a {
            color: #0b3d1c; 
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            padding: 5px 0;
            transition: color 0.3s ease;
        }

        .top-nav a:hover {
            color: #ff6600; 
        }
        /* --- END NEW STYLES --- */


        .card-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 950px;
            margin: 0 auto;
        }
        
        .card {
            background: #fff;
            padding: 38px;
            border-radius: 18px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            width: 100%;
            max-width: 420px; 
            transition: max-width 0.6s ease, padding 0.6s ease;
            position: relative;
            margin-top: 0;
        }

        .card.expanded {
            max-width: 950px; 
            padding: 38px;
        }

        h2 {
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 800;
            color: #0b3d1c;
            text-align: center;
        }
        label {
            display: block;
            text-align: left;
            font-weight: 500;
            margin-top: 15px;
            color: #0b3d1c;
            font-size: 14px;
        }
        input {
            width: 100%;
            padding: 14px;
            border: 1px solid #ccc;
            border-radius: 12px;
            margin-top: 6px;
            font-size: 15px;
            font-family: "Poppins", sans-serif;
            box-sizing: border-box;
            transition: all 0.2s ease-in-out;
        }
        input:focus {
            border-color: #0b3d1c;
            outline: none;
            box-shadow: 0 0 5px rgba(11, 61, 28, 0.2);
        }
        
        .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .btn {
            margin-top: 22px;
            width: 100%;
            padding: 14px;
            background: #0b3d1c;
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-family: "Poppins", sans-serif;
            transition: background 0.3s;
        }
        .btn:hover { background: #062e14; }
        .btn-reset { background: #ff6600; margin-top: 12px; }
        .btn-reset:hover { background: #cc5200; }
        
        /* Container for results and chart to appear side-by-side */
        .results-and-chart-container {
            display: none; /* Hidden by default */
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .results-and-chart-container.show {
            display: flex;
        }

        .results-content {
            font-size: 14px;
            font-weight: 500;
            line-height: 1.6;
            text-align: left;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 280px;
            margin-top: 15px;
        }
        canvas { width: 100% !important; height: 100% !important; }
        details {
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 8px;
            background: #f9fdf9;
        }
        summary { font-weight: 600; cursor: pointer; padding: 6px; color: #0b3d1c; }
        summary::marker { color: #ff6600; }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            margin-top: 8px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 6px;
            text-align: center;
        }
        th { background: #0b3d1c; color: #fff; position: sticky; top: 0; }
        .footer {
            color: #000;
            text-align: center;
            padding: 20px 0;
            font-size: 22px;
            font-weight: 800;
            border-top: 6px solid #ff6600;
            border-radius: 10px 10px 0 0;
            margin: 25px 0 25px 0;
            transition: width 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .card.expanded .results-and-chart-container.show {
                flex-direction: row;
                justify-content: space-between;
                align-items: flex-start;
                gap: 40px;
            }
            .results-content {
                flex: 1;
                order: 0;
            }
            .chart-container {
                flex: 1;
                order: 1;
                height: 350px;
            }
        }

        .result-item {
            margin: 20px 0;
        }
        .result-label {
            font-weight: 600;
            font-size: 20px;
            color: #555;
            display: block;
        }
        .result-value {
            font-size: 32px;
            font-weight: 700;
            color: #0b3d1c;
            display: block;
        }
        .result-label.highlighted {
            font-size: 24px;
        }
        .result-value.highlighted {
            font-size: 44px;
            font-weight: 900;
        }
        .emi-info {
            max-width: 950px;
            margin-top: 30px;
            line-height: 1.6;
        }
        .emi-info h3, .emi-info h4 {
            color: #0b3d1c;
            font-weight: 700;
        }
        .emi-info ul {
            padding-left: 20px;
        }
        .language-switcher {
            text-align: center;
            margin: 25px 0 25px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .language-switcher select {
            padding: 8px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-family: "Poppins", sans-serif;
        }
        .language-switcher label {
            margin: 0;
            font-weight: 500;
            color: #0b3d1c;
            font-size: 14px;
        }
        
        /* Orange Banner Section: Corrected to display block for visibility */
        .orange-banner {
          display: block;
            width: 100%;
            max-width: 950px;
            background-color: #0b3d1c; /* Added light orange background for better visibility */
            color: white;
            text-align: center;
            padding: 25px 20px;
            border-radius: 12px;
            margin-top: 25px;
            margin-bottom: 25px;
        }
        .orange-banner h3 {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
        }
        
        /* FAQ Section: Corrected to display block for visibility */
        .faq-section {
          display: block;
            margin-top: 25px;
            width: 100%;
            max-width: 950px; 
        }

        .faq-section details {
            width: 100%;
            display: block; /* Corrected: details should be visible */
        }

        .faq-section summary {
            display: block;        /* makes summary take full width */
            width: 100%;
            padding-left:19px;
            font-size: 16px;
            font-weight: 900;
            border-radius: 8px;
            cursor: pointer;
            
        }

        /* Optional: make answer text full width */
        .faq-section details p,
        .faq-section details ul {
            margin-left: 20px;
            margin-top: 8px;
            margin-bottom: 12px;
        }
        /* Contact Section: Corrected to display block for visibility */
        .contact-text {
          display: block;
            max-width: 950px;
            margin-top: 30px;
            line-height: 1.6;
            text-align: center;
            padding: 20px;
        }
        
        .schedule-container {
            width: 100%;
            display: none;
        }
        .schedule-container.show {
            display: block;
        }
        
        .show-schedule-btn {
            background-color: #0b3d1c;
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }
        .show-schedule-btn:hover {
            background-color: #062e14;
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 1024px) {
            .card-container, .card {
                width: 100%;
                max-width: none;
            }
            body {
                padding: 10px;
            }
            .card {
                padding: 1.5rem;
            }
        }
        
        @media (max-width: 768px) {
            /* The fix is here: We REMOVED 'display: none' from .top-nav */
            .top-nav {
                display: flex; /* Ensure it is visible */
                flex-direction: column; /* Stack the links vertically */
                position: absolute; /* Allows it to overlap content */
                top: 60px; /* Positions it just below the header bar */
                right: 20px; 
                background: #fff;
                border: 1px solid #ccc;
                border-radius: 8px;
                padding: 10px 20px;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                gap: 10px;
                width: 150px;
                z-index: 1000;
            }

            .top-header-bar {
                justify-content: space-between; /* Keep logo left, menu area right */
            }
            .logo-text {
                margin: 0;
            }
            body {
                padding: 10px 20px;
            }
            .card {
                padding: 20px;
                max-width: 100%;
                border-radius: 30px;
                margin-top: 0;
            }
            h2 { font-size: 22px; }
            label { font-size: 14px; margin-top: 15px; }
            input { padding: 12px; font-size: 14px; }
            .btn { padding: 14px; font-size: 16px; }

            .result-label { font-size: 16px; }
            .result-value { font-size: 24px; }
            .result-label.highlighted { font-size: 20px; }
            .result-value.highlighted { font-size: 32px; }

            table { font-size: 11px; }
            th, td { padding: 6px; }
            .footer {
                width: auto;
                border-top: none;
                font-size: 16px;
                padding: 10px 0;
                margin: 15px 0;
            }
            .footer-content {
                display: inline-block;
                border-top: 6px solid #ff6600;
                border-radius: 8px;
                padding-top: 10px;
            }
            .emi-info {
                max-width: 100%;
                padding: 15px;
                margin-top: 20px;
            }
            .language-switcher {
                text-align: center;
                margin: 15px 0;
            }
        }
    </style>
</head>
<body>
    
    <header class="top-header-bar">
        <a href="#calculatorTitle" class="logo-text">EMI Calculator</a>
        
        <nav class="top-nav">
            <a href="#calculatorTitle">Home</a>
            <a href="about.html">About us</a>
            <a href="contact.html">Contact us</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms & Condition</a>
        </nav>
    </header>

    <div class="card-container">
        <div class="language-switcher">
            <label for="language-select">Language:</label>
            <select id="language-select" onchange="setLanguage()">
                <option value="en">English</option>
                <option value="hi">Hindi</option>
            </select>
        </div>
        <div class="card" id="cardBox">
            <h2 id="calculatorTitle">📊 Loan (EMI) Calculator</h2>
            <label id="labelLoanAmount">Loan Amount (₹)</label>
            <input type="number" id="loanAmount" placeholder="Enter loan amount">
            <label id="labelInterestRate">Annual Interest Rate (%)</label>
            <input type="number" id="interestRate" step="0.01" placeholder="e.g. 8.5">
            <label id="labelLoanTenure">Loan Tenure (Years)</label>
            <input type="number" id="loanTenure" placeholder="e.g. 5">
            <div class="button-container">
                <button class="btn" id="calculateBtn" onclick="calculateEMI()">Calculate</button>
                <button class="btn btn-reset" id="resetBtn" style="display:none;" onclick="resetCalculator()">Reset</button>
            </div>
            
            <div class="results-and-chart-container" id="resultsAndChartContainer">
                <div class="results-content" id="results"></div>
                <div class="chart-container"><canvas id="emiChart"></canvas></div>
            </div>
            
            <button class="show-schedule-btn" id="showScheduleBtn" style="display: none;" onclick="showAmortizationTable()">Show Amortization Schedule</button>
            <div class="schedule-container" id="scheduleContainer"></div>
        </div>
        
        <div class="footer" id="footerLine">
            <span class="footer-content" id="footerText">🇮🇳 Made in India</span>
        </div>
        <div class="emi-info" id="emi-info-section">
            <h3 id="emiInfoTitle">What is EMI?</h3>
            <p id="emiInfoPara1">An <b>Equated Monthly Installment (EMI)</b> is a fixed payment you make to a lender each month to repay a loan over a set period. It's designed to simplify your repayment schedule by combining both the <b>principal loan amount</b> and the <b>interest</b> due into a single, predictable monthly payment.</p>
            <p id="emiInfoPara2">Think of it as a consistent, manageable sum that helps you systematically pay off your debt.</p>
            <p id="emiInfoPara3">Over time, the composition of your EMI changes. In the early stages of your loan, a larger portion of your EMI goes toward paying off the <b>interest</b>. As you continue to make payments, this proportion shifts, and a greater share of each EMI is allocated to reducing the <b>principal</b> balance. While the monthly amount you pay remains the same, the breakdown of principal and interest within that amount is constantly adjusting. This process is known as <b>amortization</b>.</p>
            <h4 id="emiFormulaTitle">The EMI Formula</h4>
            <p id="emiFormulaPara1">
            The standard formula for calculating is: EMI = [P x R x (1+R)^N] / [(1+R)^N-1]
            </p>
            <p id="emiFormulaPara2"></p>
            <p id="emiExamplePara">For example, if you borrow ₹10,00,000 at an annual interest rate of 10.5% for 10 years (120 months), your monthly EMI would be approximately ₹13,493. This means you will pay a total of ₹16,19,220 over the loan term, with ₹6,19,220 of that being the interest.</p>
            <p id="emiConclusionPara">Calculating this manually can be tedious and prone to errors. Our EMI calculator automates this process, providing you with instant, accurate results along with a detailed amortization schedule and visual charts to help you understand your loan repayment journey.</p>
        </div>
        <div class="orange-banner" id="faq-start">

<h3 class="permanent-underline">Loan Calculator FAQs 🏦</h3>

<style>
.permanent-underline {
  display: inline-block;
  position: relative;
  font-weight: 600;
  cursor: default;
}

/* Animated underline */
.permanent-underline::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -8px; /* space under text */
  width: 100%;
  height: 6px; /* underline thickness */
  background: #ff6600;
  border-radius: 3px;
  animation: pulseUnderline 2s ease-in-out infinite;
}
</style>
<br> </br>
            <p>Here are some frequently asked questions (FAQs) about using this EMI calculator, based on common queries.</p>
        </div>
        <div class="faq-section">
            <details>
                <summary>What is an EMI and how is it calculated?</summary>
                <p><strong>EMI</strong> stands for <strong>Equated Monthly Installment</strong>. It's a fixed payment made to a lender every month on a set date to repay a loan. Each EMI payment consists of both principal (the original loan amount) and interest.</p>
            </details>
            <details>
                <summary>How does this EMI calculator work?</summary>
                <p>Our calculator simplifies the process by automating the EMI formula. You simply enter three key values:</p>
                <ul>
                    <li><strong>Loan Amount:</strong> The total amount you wish to borrow.</li>
                    <li><strong>Interest Rate:</strong> The annual interest rate offered by your bank or financial institution.</li>
                    <li><strong>Loan Tenure:</strong> The total number of years you plan to take to repay the loan.</li>
                </ul>
                <p>The calculator then instantly provides your monthly EMI, the total amount of interest you'll pay, and the total repayment amount. It also generates a visual chart showing the breakdown of your principal and interest, and a detailed amortization schedule to show how your loan balance decreases over time.</p>
            </details>
            <details>
                <summary>What is an amortization schedule?</summary>
                <p>An amortization schedule is a table that provides a detailed breakdown of your loan repayment over its entire tenure. For each month, it shows:</p>
                <ul>
                    <li>The portion of your EMI that goes towards the principal.</li>
                    <li>The portion that goes towards the interest.</li>
                    <li>Possibility of reducing interest through additional payments.</li>
                    <li>The remaining loan balance.</li>
                </ul>
                <p>In the early years of the loan, a larger part of your EMI pays off the interest. As you continue to make payments, this shifts, and more of your EMI is applied to the principal. The amortization schedule clearly illustrates this process, helping you track your progress.</p>
            </details>
            <details>
                <summary>Can I use this calculator for different types of loans?</summary>
                <p>Yes! This calculator is versatile and can be used for a wide range of loans, including:</p>
                <ul>
                    <li>Home Loans 🏡</li>
                    <li>Car Loans 🚗</li>
                    <li>Personal Loans 🤝</li>
                    <li>Business Loans 💼</li>
                </ul>
                <p>Any other loan that uses a fixed interest rate and equal monthly installments.</p>
            </details>
            <details>
                <summary>Is it better to choose a longer or shorter loan tenure?</summary>
                <p>That depends on your financial goals.</p>
                <ul>
                    <li><strong>Shorter tenure:</strong> Results in a higher monthly EMI but a lower total interest paid. This lets you become debt-free faster and saves you money in the long run.</li>
                    <li><strong>Longer tenure:</strong> Results in a lower monthly EMI but a higher total interest paid. This reduces your monthly financial burden, making it easier to manage cash flow.</li>
                    </ul>
                <p>Use the calculator to compare different scenarios and find the right balance for your budget.</p>
            </details>
        </div>
        <div class="contact-text" id="contact-section">
            <h3>Contact Us</h3>
            <p>If you have any questions, feel free to reach out to us:</p>
            <p>Email: <a href="mailto:support@example.com">support@example.com</a></p>
        </div>

        <div class="emi-info" id="privacy-policy-section">
            <h3 style="text-align: center;">Privacy Policy</h3>
            <p>This is a placeholder for the Privacy Policy content. Your privacy is important to us. [Insert actual policy content here.]</p>
        </div>

        <div class="emi-info" id="terms-conditions-section">
            <h3 style="text-align: center;">Terms & Condition</h3>
            <p>This is a placeholder for the Terms & Conditions content. By using this calculator, you agree to these terms. [Insert actual terms content here.]</p>
        </div>
    </div>
    
    <script>
        let chart;
        const card = document.getElementById('cardBox');
        const footer = document.getElementById('footerLine');
        const resultsAndChartContainer = document.getElementById('resultsAndChartContainer');
        const scheduleContainer = document.getElementById('scheduleContainer');
        const showScheduleBtn = document.getElementById('showScheduleBtn');
        const resultsDiv = document.getElementById('results');

        const translations = {
            en: {
                title: "📊 Loan (EMI) Calculator",
                loanAmount: "Loan Amount (₹)",
                interestRate: "Annual Interest Rate (%)",
                loanTenure: "Loan Tenure (Years)",
                calculate: "Calculate",
                reset: "Reset",
                monthlyEmi: "Monthly <strong>EMI</strong>:",
                totalPayment: "Total Payment:",
                totalInterest: "Total Interest:",
                amortizationSchedule: "📑 Amortization Schedule",
                year: "Year",
                month: "Month",
                principal: "Principal (₹)",
                interest: "Interest (₹)",
                balance: "Balance (₹)",
                madeInIndia: "🇮🇳 Made in India",
                chartPrincipal: "Principal",
                chartInterest: "Interest",
                showSchedule: "Show Amortization Schedule",
                infoTitle: "What is EMI?",
                infoPara1: "An <b>Equated Monthly Installment (EMI)</b> is a fixed payment you make to a lender each month to repay a loan over a set period. It's designed to simplify your repayment schedule by combining both the <b>principal loan amount</b> and the <b>interest</b> due into a single, predictable monthly payment.",
                infoPara2: "Think of it as a consistent, manageable sum that helps you systematically pay off your debt.",
                infoPara3: "Over time, the composition of your EMI changes. In the early stages of your loan, a larger portion of your EMI goes toward paying off the <b>interest</b>. As you continue to make payments, this proportion shifts, and a greater share of each EMI is allocated to reducing the <b>principal</b> balance. While the monthly amount you pay remains the same, the breakdown of principal and interest within that amount is constantly adjusting. This process is known as <b>amortization</b>.",
                formulaTitle: "The EMI Formula",
                formulaPara1: "The standard formula for calculating is: EMI = [P x R x (1+R)^N] / [(1+R)^N-1]",
                formulaPara2: "Where: <ul><li><b>P</b> = Principal Loan Amount</li><li><b>R</b> = Monthly Interest Rate (Annual Rate / 12 / 100)</li><li><b>N</b> = Loan Tenure in Months</li></ul>",
                examplePara: "For example, if you borrow ₹10,00,000 at an annual interest rate of 10.5% for 10 years (120 months), your monthly EMI would be approximately ₹13,493. This means you will pay a total of ₹16,19,220 over the loan term, with ₹6,19,220 of that being the interest.",
                conclusionPara: "Calculating this manually can be tedious and prone to errors. Our EMI calculator automates this process, providing you with instant, accurate results along with a detailed amortization schedule and visual charts to help you understand your loan repayment journey."
            },
            hi: {
                title: "📊 लोन (EMI) कैलकुलेटर",
                loanAmount: "लोन की राशि (₹)",
                interestRate: "वार्षिक ब्याज दर (%)",
                loanTenure: "लोन की अवधि (साल)",
                calculate: "गणना करें",
                reset: "रीसेट करें",
                monthlyEmi: "मासिक <strong>ईएमआई</strong>:",
                totalPayment: "कुल भुगतान:",
                totalInterest: "कुल ब्याज:",
                amortizationSchedule: "📑 चुकौती सारणी",
                year: "वर्ष",
                month: "महीना",
                principal: "मूलधन (₹)",
                interest: "ब्याज (₹)",
                balance: "बकाया (₹)",
                madeInIndia: "🇮🇳 भारत में निर्मित",
                chartPrincipal: "मूलधन",
                chartInterest: "ब्याज",
                showSchedule: "चुकौती सारणी दिखाएं",
                infoTitle: "ईएमआई क्या है?",
                infoPara1: "<b>समान मासिक किस्त (ईएमआई)</b> एक निश्चित भुगतान है जो आप एक निश्चित अवधि में ऋण चुकाने के लिए हर महीने एक ऋणदाता को करते हैं। इसे आपके चुकौती कार्यक्रम को सरल बनाने के लिए डिज़ाइन किया गया है, जिसमें <b>मूल ऋण राशि</b> और देय <b>ब्याज</b> दोनों को एक ही, अनुमानित मासिक भुगतान में जोड़ा जाता है।",
                infoPara2: "इसे एक सुसंगत, प्रबंधनीय राशि के रूप में सोचें जो आपको व्यवस्थित रूप से अपना ऋण चुकाने में मदद करती है।",
                infoPara3: "समय के साथ, आपकी ईएमआई की संरचना बदल जाती है। आपके ऋण के शुरुआती चरणों में, आपकी ईएमआई का एक बड़ा हिस्सा <b>ब्याज</b> चुकाने में जाता है। जैसे-जैसे आप भुगतान करना जारी रखते हैं, यह अनुपात बदलता है, और प्रत्येक ईएमआई का एक बड़ा हिस्सा <b>मूलधन</b> शेष को कम करने के लिए आवंटित किया जाता है। इस प्रक्रिया को <b>ऋण परिशोधन</b> कहा जाता है।",
                formulaTitle: "ईएमआई सूत्र",
                formulaPara1
